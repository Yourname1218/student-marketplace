# ğŸ”§ GitHub Actions éƒ¨ç½²éŒ¯èª¤æ’é™¤æŒ‡å—

## âŒ å¸¸è¦‹éŒ¯èª¤åŠè§£æ±ºæ–¹æ³•

### éŒ¯èª¤ 1: npm ci å¤±æ•—

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
npm ERR! cipm can only install packages when your package.json and package-lock.json are in sync
```

**è§£æ±ºæ–¹æ³•ï¼š**
- å·²ç¶“ä¿®æ”¹å·¥ä½œæµç¨‹ï¼Œæ”¹ç”¨ `npm install` è€Œä¸æ˜¯ `npm ci`
- å¦‚æœé‚„æ˜¯æœ‰å•é¡Œï¼Œç¢ºä¿ `client/package-lock.json` å·²ç¶“ä¸Šå‚³åˆ° GitHub

---

### éŒ¯èª¤ 2: ç’°å¢ƒè®Šæ•¸æœªè¨­å®š

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
VITE_API_URL is not defined
```

**è§£æ±ºæ–¹æ³•ï¼š**
1. åˆ° GitHub â†’ Settings â†’ Secrets and variables â†’ Actions
2. ç¢ºèªæœ‰è¨­å®š `VITE_API_URL` Secret
3. å€¼æ‡‰è©²æ˜¯ï¼š`https://wa-bao-qu-campus.onrender.com`

---

### éŒ¯èª¤ 3: å»ºç½®å¤±æ•—

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
Error: Cannot find module 'xxx'
```

**è§£æ±ºæ–¹æ³•ï¼š**
- ç¢ºä¿æ‰€æœ‰ä¾è³´éƒ½å·²ç¶“åœ¨ `package.json` ä¸­
- åŸ·è¡Œ `npm install` ç¢ºä¿æœ¬åœ°å¯ä»¥æ­£å¸¸å»ºç½®

---

### éŒ¯èª¤ 4: ä¸Šå‚³ artifact å¤±æ•—

**éŒ¯èª¤è¨Šæ¯ï¼š**
```
Error: Path does not exist: ./client/dist
```

**è§£æ±ºæ–¹æ³•ï¼š**
- ç¢ºèªå»ºç½®æ­¥é©ŸæˆåŠŸåŸ·è¡Œ
- ç¢ºèª `vite.config.js` ä¸­çš„ `outDir` è¨­å®šç‚º `dist`

---

## ğŸ“‹ æª¢æŸ¥æ¸…å–®

éƒ¨ç½²å‰æª¢æŸ¥ï¼š
- [ ] `client/package.json` å­˜åœ¨
- [ ] `client/vite.config.js` å­˜åœ¨
- [ ] `.github/workflows/deploy.yml` å­˜åœ¨
- [ ] å·²è¨­å®š GitHub Secret `VITE_API_URL`

æœ¬åœ°æ¸¬è©¦ï¼š
- [ ] å¯ä»¥åŸ·è¡Œ `cd client && npm install`
- [ ] å¯ä»¥åŸ·è¡Œ `cd client && npm run build`
- [ ] å»ºç½®å¾Œæœ‰ `client/dist` è³‡æ–™å¤¾

---

## ğŸ”„ é‡æ–°éƒ¨ç½²æ­¥é©Ÿ

å¦‚æœéƒ¨ç½²å¤±æ•—ï¼š

1. **æª¢æŸ¥éŒ¯èª¤æ—¥èªŒ**
   - åˆ° GitHub â†’ Actions
   - é»æ“Šå¤±æ•—çš„å·¥ä½œæµç¨‹
   - æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯

2. **ä¿®å¾©å•é¡Œ**
   - æ ¹æ“šéŒ¯èª¤è¨Šæ¯ä¿®å¾©
   - æäº¤ä¸¦æ¨é€è®Šæ›´

3. **é‡æ–°è§¸ç™¼éƒ¨ç½²**
   - Actions â†’ Run workflow

---

## âœ… å·²ä¿®å¾©çš„å•é¡Œ

- âœ… æ”¹ç”¨ `npm install` ä»£æ›¿ `npm ci`ï¼ˆæ›´å¯¬é¬†ï¼Œä¸éœ€è¦ç²¾ç¢ºçš„ package-lock.jsonï¼‰
- âœ… æ·»åŠ ç’°å¢ƒè®Šæ•¸çš„é è¨­å€¼ï¼ˆé¿å… Secret æœªè¨­å®šæ™‚å¤±æ•—ï¼‰
- âœ… ç§»é™¤ cache-dependency-pathï¼ˆç°¡åŒ–è¨­å®šï¼‰

